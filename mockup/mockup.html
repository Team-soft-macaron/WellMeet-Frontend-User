<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wellmeet Premium</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .phone-container {
            width: 375px;
            height: 812px;
            background-color: #000;
            border-radius: 40px;
            padding: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background-color: #fff;
            border-radius: 30px;
            overflow: hidden;
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
        }

        .screen.active {
            display: flex;
        }

        /* Navigation */
        .nav {
            height: 60px;
            background-color: #fff;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 0 20px;
        }

        .nav-back {
            position: absolute;
            left: 20px;
            cursor: pointer;
            font-size: 24px;
        }

        .nav-title {
            font-size: 18px;
            font-weight: 600;
        }

        .nav-menu {
            position: absolute;
            right: 20px;
            cursor: pointer;
        }

        .nav-menu span {
            display: block;
            width: 20px;
            height: 2px;
            background-color: #333;
            margin: 4px 0;
        }

        /* Content */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        /* Tab Bar */
        .tab-bar {
            height: 80px;
            background-color: #fff;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px 0;
        }

        .tab {
            text-align: center;
            cursor: pointer;
            flex: 1;
            padding: 5px;
        }

        .tab-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .tab-label {
            font-size: 11px;
            color: #666;
        }

        .tab.active .tab-label {
            color: #333;
            font-weight: 600;
        }

        /* Components */
        .search-bar {
            width: 100%;
            height: 50px;
            background-color: #f5f5f5;
            border-radius: 25px;
            padding: 0 20px;
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .search-bar input {
            flex: 1;
            border: none;
            background: none;
            outline: none;
            font-size: 16px;
        }

        .card {
            background-color: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .card-image {
            width: 60px;
            height: 60px;
            background-color: #f0f0f0;
            border-radius: 8px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .card-info {
            flex: 1;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .card-detail {
            font-size: 13px;
            color: #666;
            line-height: 1.4;
        }

        .premium-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .premium-card::before {
            content: 'âœ¨';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 80px;
            opacity: 0.1;
        }

        .premium-badge {
            position: absolute;
            top: -10px;
            right: 10px;
            background-color: #FFD700;
            color: #333;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }

        .button {
            width: 100%;
            height: 50px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        .button:hover {
            background-color: #555;
        }

        .button.secondary {
            background-color: #fff;
            color: #333;
            border: 2px solid #333;
        }

        /* Chat Interface */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .chat-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            margin-bottom: 10px;
            line-height: 1.4;
            font-size: 15px;
        }

        .chat-bubble.ai {
            background-color: #f0f0f0;
            margin-right: auto;
        }

        .chat-bubble.user {
            background-color: #007AFF;
            color: white;
            margin-left: auto;
        }

        .chat-name {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 13px;
        }

        .chat-input-container {
            padding: 20px;
            background-color: #fff;
            border-top: 1px solid #e0e0e0;
        }

        .chat-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            height: 40px;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            padding: 0 15px;
            font-size: 15px;
            outline: none;
        }

        .chat-send {
            width: 40px;
            height: 40px;
            background-color: #007AFF;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        /* Calendar */
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin: 20px 0;
        }

        .calendar-day {
            aspect-ratio: 1;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
        }

        .calendar-day:hover {
            background-color: #f0f0f0;
        }

        .calendar-day.selected {
            background-color: #007AFF;
            color: white;
            border-color: #007AFF;
        }

        /* Time slots */
        .time-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .time-slot {
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            font-size: 14px;
        }

        .time-slot:hover {
            background-color: #f0f0f0;
        }

        .time-slot.selected {
            background-color: #007AFF;
            color: white;
            border-color: #007AFF;
        }

        .time-slot.disabled {
            color: #ccc;
            cursor: not-allowed;
        }

        /* Premium options */
        .premium-option {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            cursor: pointer;
        }

        .premium-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            margin-top: 2px;
        }

        .premium-option-title {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .premium-option-desc {
            font-size: 13px;
            color: #666;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 10px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #666;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-10px);
            }
        }
    </style>
</head>

<body>
    <div class="phone-container">
        <div class="phone-screen">
            <!-- Home Screen -->
            <div class="screen active" id="home">
                <div class="nav">
                    <div class="nav-title">Wellmeet Premium</div>
                    <div class="nav-menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="content">
                    <div class="search-bar" onclick="showScreen('search')">
                        <span style="color: #999;">ì‹ë‹¹ ê²€ìƒ‰...</span>
                        <span style="font-size: 20px;">ğŸ”</span>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <h2 style="font-size: 24px; margin-bottom: 5px;">ìœ ì„±ë¯¼ë‹˜ ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹</h2>
                        <p style="color: #666;">ì˜¤ëŠ˜ë„ ì™„ë²½í•œ ëª¨ì„ì„ ë„ì™€ë“œë¦´ê²Œìš”</p>
                    </div>

                    <div class="card premium-card" onclick="showScreen('ai-chat')" style="margin-bottom: 25px;">
                        <div class="premium-badge">ì¶”ì²œ</div>
                        <div class="card-image">ğŸ¤–</div>
                        <div class="card-info">
                            <div class="card-title">AI ë§ì¶¤ ì¶”ì²œ ë°›ê¸°</div>
                            <div class="card-detail" style="color: rgba(255,255,255,0.9);">ìƒí™©ì— ë”± ë§ëŠ” ë§›ì§‘ì„ ì°¾ì•„ë“œë ¤ìš”</div>
                        </div>
                    </div>

                    <h3 style="font-size: 16px; margin-bottom: 15px;">ğŸ“ ì£¼ë³€ ì¶”ì²œ ë§›ì§‘</h3>

                    <div class="card fade-in" onclick="showScreen('restaurant-detail', 'sushi-omakase')">
                        <div class="card-image">ğŸ£</div>
                        <div class="card-info">
                            <div class="card-title">ìŠ¤ì‹œ ì˜¤ë§ˆì¹´ì„¸</div>
                            <div class="card-detail">ê°•ë‚¨êµ¬ â€¢ 500m â€¢ â­ 4.8</div>
                        </div>
                    </div>

                    <div class="card fade-in" style="animation-delay: 0.1s;"
                        onclick="showScreen('restaurant-detail', 'hanwoo-house')">
                        <div class="card-image">ğŸ¥©</div>
                        <div class="card-info">
                            <div class="card-title">í•œìš° ëª…ê°€</div>
                            <div class="card-detail">ê°•ë‚¨êµ¬ â€¢ 800m â€¢ â­ 4.7</div>
                        </div>
                    </div>

                    <div class="card fade-in" style="animation-delay: 0.2s;"
                        onclick="showScreen('restaurant-detail', 'bistro-paris')">
                        <div class="card-image">ğŸ·</div>
                        <div class="card-info">
                            <div class="card-title">ë¹„ìŠ¤íŠ¸ë¡œ íŒŒë¦¬</div>
                            <div class="card-detail">ê°•ë‚¨êµ¬ â€¢ 1.2km â€¢ â­ 4.6</div>
                        </div>
                    </div>
                </div>
                <div class="tab-bar">
                    <div class="tab active" onclick="showScreen('home')">
                        <div class="tab-icon">ğŸ </div>
                        <div class="tab-label">í™ˆ</div>
                    </div>
                    <div class="tab" onclick="showScreen('ai-chat')">
                        <div class="tab-icon">ğŸ¤–</div>
                        <div class="tab-label">AIì¶”ì²œ</div>
                    </div>
                    <div class="tab" onclick="showScreen('reservations')">
                        <div class="tab-icon">ğŸ“‹</div>
                        <div class="tab-label">ì˜ˆì•½ë‚´ì—­</div>
                    </div>
                    <div class="tab" onclick="showScreen('mypage')">
                        <div class="tab-icon">ğŸ‘¤</div>
                        <div class="tab-label">MY</div>
                    </div>
                </div>
            </div>

            <!-- Search Screen -->
            <div class="screen" id="search">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ê²€ìƒ‰</div>
                </div>
                <div class="content">
                    <div class="search-bar" style="border: 2px solid #007AFF;">
                        <input type="text" id="search-input" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" style="font-size: 16px;"
                            onkeypress="handleSearchKeyPress(event)">
                        <span style="font-size: 20px; cursor: pointer;" onclick="performSearch()">ğŸ”</span>
                    </div>

                    <div id="search-results" style="display: none;">
                        <h4 style="margin-bottom: 15px;">ê²€ìƒ‰ ê²°ê³¼</h4>
                        <div id="search-results-list"></div>
                    </div>

                    <div id="search-default">
                        <div style="margin-bottom: 30px;">
                            <h4 style="margin-bottom: 15px;">ìµœê·¼ ê²€ìƒ‰ì–´</h4>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <span
                                    style="padding: 8px 15px; background-color: #f0f0f0; border-radius: 20px; font-size: 14px;">ìŠ¤ì‹œ</span>
                                <span
                                    style="padding: 8px 15px; background-color: #f0f0f0; border-radius: 20px; font-size: 14px;">ê°•ë‚¨
                                    í•œì‹</span>
                                <span
                                    style="padding: 8px 15px; background-color: #f0f0f0; border-radius: 20px; font-size: 14px;">í”„ë¼ì´ë¹—
                                    ë£¸</span>
                            </div>
                        </div>

                        <h4 style="margin-bottom: 15px;">ì¸ê¸° ê²€ìƒ‰ì–´</h4>
                        <div style="display: grid; gap: 10px;">
                            <div style="display: flex; align-items: center; padding: 10px 0;">
                                <span
                                    style="font-weight: bold; color: #FF3B30; margin-right: 15px; width: 20px;">1</span>
                                <span>ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ… ë§›ì§‘</span>
                            </div>
                            <div style="display: flex; align-items: center; padding: 10px 0;">
                                <span
                                    style="font-weight: bold; color: #FF3B30; margin-right: 15px; width: 20px;">2</span>
                                <span>ì„±ìˆ˜ë™ ì¹´í˜</span>
                            </div>
                            <div style="display: flex; align-items: center; padding: 10px 0;">
                                <span
                                    style="font-weight: bold; color: #FF3B30; margin-right: 15px; width: 20px;">3</span>
                                <span>ì˜¤ë§ˆì¹´ì„¸</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-bar">
                    <div class="tab active" onclick="showScreen('home')">
                        <div class="tab-icon">ğŸ </div>
                        <div class="tab-label">í™ˆ</div>
                    </div>
                    <div class="tab" onclick="showScreen('ai-chat')">
                        <div class="tab-icon">ğŸ¤–</div>
                        <div class="tab-label">AIì¶”ì²œ</div>
                    </div>
                    <div class="tab" onclick="showScreen('reservations')">
                        <div class="tab-icon">ğŸ“‹</div>
                        <div class="tab-label">ì˜ˆì•½ë‚´ì—­</div>
                    </div>
                    <div class="tab" onclick="showScreen('mypage')">
                        <div class="tab-icon">ğŸ‘¤</div>
                        <div class="tab-label">MY</div>
                    </div>
                </div>
            </div>

            <!-- AI Chat Screen -->
            <div class="screen" id="ai-chat">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">AI ì¶”ì²œ</div>
                </div>
                <div class="content"
                    style="padding: 0; display: flex; flex-direction: column; height: calc(100% - 140px);">
                    <div class="chat-messages" id="chat-messages" style="flex: 1; overflow-y: auto; padding: 20px;">
                        <div class="chat-bubble ai fade-in">
                            <div class="chat-name">AI ì›°ë°‹</div>
                            ì•ˆë…•í•˜ì„¸ìš”! ì™„ë²½í•œ ë§›ì§‘ì„ ì°¾ì•„ë“œë¦¬ëŠ” AI ì›°ë°‹ì…ë‹ˆë‹¤ ğŸ¤–<br><br>
                            ì–´ë–¤ ëª¨ì„ì„ ì¤€ë¹„í•˜ê³  ê³„ì‹ ê°€ìš”? ììœ ë¡­ê²Œ ë§ì”€í•´ì£¼ì„¸ìš”!
                        </div>
                    </div>
                    <div class="chat-input-container"
                        style="position: relative; padding: 20px; background-color: #fff; border-top: 1px solid #e0e0e0;">
                        <div class="chat-input-wrapper">
                            <input type="text" class="chat-input" id="chat-input" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                                onkeypress="handleChatKeyPress(event)">
                            <button class="chat-send" onclick="sendMessage()">â¤</button>
                        </div>
                    </div>
                </div>
                <div class="tab-bar">
                    <div class="tab" onclick="showScreen('home')">
                        <div class="tab-icon">ğŸ </div>
                        <div class="tab-label">í™ˆ</div>
                    </div>
                    <div class="tab active">
                        <div class="tab-icon">ğŸ¤–</div>
                        <div class="tab-label">AIì¶”ì²œ</div>
                    </div>
                    <div class="tab" onclick="showScreen('reservations')">
                        <div class="tab-icon">ğŸ“‹</div>
                        <div class="tab-label">ì˜ˆì•½ë‚´ì—­</div>
                    </div>
                    <div class="tab" onclick="showScreen('mypage')">
                        <div class="tab-icon">ğŸ‘¤</div>
                        <div class="tab-label">MY</div>
                    </div>
                </div>
            </div>

            <!-- Restaurant Detail Screen -->
            <div class="screen" id="restaurant-detail">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ì •ì‹ë‹¹</div>
                </div>
                <div class="content">
                    <div
                        style="width: 100%; height: 200px; background-color: #f0f0f0; margin: -20px -20px 20px -20px; display: flex; align-items: center; justify-content: center; font-size: 48px;">
                        ğŸ½ï¸
                    </div>

                    <div
                        style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px;">
                        <div>
                            <h2 style="font-size: 24px; margin-bottom: 5px;">ì •ì‹ë‹¹</h2>
                            <p style="color: #666;">ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 142</p>
                        </div>
                        <span style="font-size: 32px; color: #ccc; cursor: pointer;">â˜†</span>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                        <div style="text-align: center; padding: 15px; background-color: #f5f5f5; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: bold;">4.9</div>
                            <div style="color: #666; font-size: 14px;">í‰ì </div>
                        </div>
                        <div style="text-align: center; padding: 15px; background-color: #f5f5f5; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: bold;">234</div>
                            <div style="color: #666; font-size: 14px;">ë¦¬ë·°ìˆ˜</div>
                        </div>
                    </div>

                    <h3 style="margin-bottom: 15px;">ëŒ€í‘œ ë©”ë‰´</h3>
                    <div style="background-color: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>ëŸ°ì¹˜ ì½”ìŠ¤ A</span>
                            <span style="font-weight: 600;">35,000ì›</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>ëŸ°ì¹˜ ì½”ìŠ¤ B</span>
                            <span style="font-weight: 600;">50,000ì›</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>ë””ë„ˆ ì½”ìŠ¤</span>
                            <span style="font-weight: 600;">80,000ì›</span>
                        </div>
                    </div>

                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <h3>ìƒí™©ë³„ í›„ê¸°</h3>
                        <span style="color: #007AFF; cursor: pointer;" onclick="showScreen('reviews')">ë”ë³´ê¸° â€º</span>
                    </div>

                    <div class="card" style="background-color: #f9f9f9;">
                        <span style="font-size: 24px; margin-right: 15px;">ğŸ’¼</span>
                        <div>
                            <strong>ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ…</strong><br>
                            <span style="font-size: 14px; color: #666;">"ì¡°ìš©í•œ ë£¸, ì™„ë²½í•œ ì„œë¹„ìŠ¤ë¡œ ê³„ì•½ ì„±ê³µ!"</span>
                        </div>
                    </div>

                    <div class="card" style="background-color: #f9f9f9;">
                        <span style="font-size: 24px; margin-right: 15px;">â¤ï¸</span>
                        <div>
                            <strong>ë°ì´íŠ¸</strong><br>
                            <span style="font-size: 14px; color: #666;">"ë¶„ìœ„ê¸° ì¢‹ê³  ìŒì‹ë„ ë§›ìˆì–´ìš”. í”„ë¡œí¬ì¦ˆ ì„±ê³µ!"</span>
                        </div>
                    </div>

                    <button class="button" onclick="showScreen('booking')">ì˜ˆì•½í•˜ê¸°</button>
                </div>
            </div>

            <!-- Booking Screen -->
            <div class="screen" id="booking">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ì˜ˆì•½í•˜ê¸°</div>
                </div>
                <div class="content">
                    <div class="card" style="background-color: #f5f5f5; border: none;">
                        <div>
                            <h3 style="margin-bottom: 5px;">ì •ì‹ë‹¹ ì˜ˆì•½</h3>
                            <p style="color: #666; font-size: 14px;">AIê°€ ë¶„ì„í•œ ìµœì  ì‹œê°„ëŒ€</p>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 10px;">ë‚ ì§œ ì„ íƒ</h4>
                    <div class="calendar">
                        <div class="calendar-day">ì›”</div>
                        <div class="calendar-day">í™”</div>
                        <div class="calendar-day">ìˆ˜</div>
                        <div class="calendar-day">ëª©</div>
                        <div class="calendar-day">ê¸ˆ</div>
                        <div class="calendar-day">í† </div>
                        <div class="calendar-day">ì¼</div>
                        <div class="calendar-day">15</div>
                        <div class="calendar-day">16</div>
                        <div class="calendar-day selected">17</div>
                        <div class="calendar-day">18</div>
                        <div class="calendar-day">19</div>
                        <div class="calendar-day">20</div>
                        <div class="calendar-day">21</div>
                    </div>

                    <h4 style="margin-bottom: 10px;">ì‹œê°„ ì„ íƒ</h4>
                    <div class="time-grid">
                        <div class="time-slot">11:30</div>
                        <div class="time-slot">12:00</div>
                        <div class="time-slot selected">12:30</div>
                        <div class="time-slot disabled">13:00</div>
                        <div class="time-slot">18:00</div>
                        <div class="time-slot">18:30</div>
                        <div class="time-slot">19:00</div>
                        <div class="time-slot disabled">19:30</div>
                    </div>

                    <h4 style="margin-bottom: 10px;">ì¸ì›</h4>
                    <select
                        style="width: 100%; height: 45px; border: 1px solid #e0e0e0; border-radius: 8px; padding: 0 15px; font-size: 16px; margin-bottom: 20px;">
                        <option>2ëª…</option>
                        <option>3ëª…</option>
                        <option selected>4ëª…</option>
                        <option>5ëª…</option>
                        <option>6ëª…</option>
                    </select>

                    <div style="background-color: #FFF9E6; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px;">
                            <span
                                style="background-color: #FFD700; padding: 4px 10px; border-radius: 20px; font-size: 12px;">Premium</span>
                            ì¶”ê°€ ì˜µì…˜
                        </h4>
                        <div class="premium-option">
                            <input type="checkbox" id="welcome-drink">
                            <label for="welcome-drink">
                                <div class="premium-option-title">ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤</div>
                                <div class="premium-option-desc">ìƒ´í˜ì¸ ë˜ëŠ” ë…¼ì•Œì½œ ìŒë£Œ ì œê³µ</div>
                            </label>
                        </div>
                        <div class="premium-option">
                            <input type="checkbox" id="vip-room">
                            <label for="vip-room">
                                <div class="premium-option-title">VIP ë£¸ ì—…ê·¸ë ˆì´ë“œ</div>
                                <div class="premium-option-desc">í”„ë¼ì´ë¹— ê³µê°„, ì „ë‹´ ì„œë²„ ë°°ì •</div>
                            </label>
                        </div>
                        <div class="premium-option">
                            <input type="checkbox" id="valet">
                            <label for="valet">
                                <div class="premium-option-title">ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤</div>
                                <div class="premium-option-desc">ë¬´ë£Œ ë°œë › íŒŒí‚¹ ì œê³µ</div>
                            </label>
                        </div>
                    </div>

                    <button class="button" onclick="confirmBooking()">ì˜ˆì•½ í™•ì •</button>
                </div>
            </div>

            <!-- My Page Screen -->
            <div class="screen" id="mypage">
                <div class="nav">
                    <div class="nav-title">ë§ˆì´ í˜ì´ì§€</div>
                    <div class="nav-menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="content">
                    <div
                        style="display: flex; align-items: center; margin-bottom: 30px; padding: 20px; background-color: #f5f5f5; border-radius: 12px;">
                        <div
                            style="width: 60px; height: 60px; background-color: #007AFF; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; font-size: 32px; color: white;">
                            ğŸ‘¤
                        </div>
                        <div>
                            <div style="font-size: 18px; font-weight: 600; margin-bottom: 5px;">ìœ ì„±ë¯¼</div>
                            <div style="color: #666;">Premium Member</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-image">ğŸ‘¤</div>
                        <div class="card-info">
                            <div class="card-title">ë‚´ ì •ë³´</div>
                            <div class="card-detail">í”„ë¡œí•„ ë° ê³„ì • ê´€ë¦¬</div>
                        </div>
                        <span style="color: #666;">â€º</span>
                    </div>

                    <div class="card" onclick="showScreen('reservations')">
                        <div class="card-image">ğŸ“‹</div>
                        <div class="card-info">
                            <div class="card-title">ì˜ˆì•½ ë‚´ì—­</div>
                            <div class="card-detail">ì§€ë‚œ ì˜ˆì•½ ë° ë¦¬ë·° ê´€ë¦¬</div>
                        </div>
                        <span style="color: #666;">â€º</span>
                    </div>

                    <div class="card">
                        <div class="card-image">ğŸ</div>
                        <div class="card-info">
                            <div class="card-title">ì´ë²¤íŠ¸/í˜œíƒ</div>
                            <div class="card-detail">í”„ë¦¬ë¯¸ì—„ íšŒì› ì „ìš© í˜œíƒ</div>
                        </div>
                        <span style="color: #666;">â€º</span>
                    </div>

                    <div class="card" onclick="showScreen('favorites')">
                        <div class="card-image">â­</div>
                        <div class="card-info">
                            <div class="card-title">ì¦ê²¨ì°¾ê¸°</div>
                            <div class="card-detail">ìì£¼ ê°€ëŠ” ë§›ì§‘ ëª©ë¡</div>
                        </div>
                        <span style="color: #666;">â€º</span>
                    </div>

                    <div class="card">
                        <div class="card-image">âš™ï¸</div>
                        <div class="card-info">
                            <div class="card-title">ì„¤ì •</div>
                            <div class="card-detail">ì•Œë¦¼, ì–¸ì–´, ë¡œê·¸ì•„ì›ƒ</div>
                        </div>
                        <span style="color: #666;">â€º</span>
                    </div>
                </div>
                <div class="tab-bar">
                    <div class="tab" onclick="showScreen('home')">
                        <div class="tab-icon">ğŸ </div>
                        <div class="tab-label">í™ˆ</div>
                    </div>
                    <div class="tab" onclick="showScreen('ai-chat')">
                        <div class="tab-icon">ğŸ¤–</div>
                        <div class="tab-label">AIì¶”ì²œ</div>
                    </div>
                    <div class="tab" onclick="showScreen('reservations')">
                        <div class="tab-icon">ğŸ“‹</div>
                        <div class="tab-label">ì˜ˆì•½ë‚´ì—­</div>
                    </div>
                    <div class="tab active">
                        <div class="tab-icon">ğŸ‘¤</div>
                        <div class="tab-label">MY</div>
                    </div>
                </div>
            </div>

            <!-- Reservations Screen -->
            <div class="screen" id="reservations">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ì˜ˆì•½ ë‚´ì—­</div>
                </div>
                <div class="content">
                    <h3 style="margin-bottom: 20px;">ì „ì²´ ì˜ˆì•½ ë‚´ì—­</h3>

                    <h4 style="font-size: 14px; color: #666; margin-bottom: 15px;">2024ë…„ 12ì›” 17ì¼ (ì˜¤ëŠ˜)</h4>
                    <div class="card" style="background-color: #f9f9f9;"
                        onclick="showScreen('reservation-detail', 'R2024121700123')">
                        <div
                            style="width: 50px; height: 50px; background-color: #007AFF; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white;">
                            <div style="text-align: center;">
                                <div style="font-weight: bold;">17</div>
                                <div style="font-size: 10px;">12ì›”</div>
                            </div>
                        </div>
                        <div class="card-info">
                            <div class="card-title">ì •ì‹ë‹¹</div>
                            <div class="card-detail">12:30 â€¢ 4ëª… â€¢ ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ…</div>
                        </div>
                        <span style="font-size: 12px; color: #007AFF;">ì˜ˆì •</span>
                    </div>

                    <h4 style="font-size: 14px; color: #666; margin: 20px 0 15px;">2024ë…„ 12ì›” 10ì¼</h4>
                    <div class="card" onclick="showScreen('reservation-detail', 'R2024121000456')">
                        <div
                            style="width: 50px; height: 50px; background-color: #f0f0f0; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                            <div style="text-align: center;">
                                <div style="font-weight: bold;">10</div>
                                <div style="font-size: 10px;">12ì›”</div>
                            </div>
                        </div>
                        <div class="card-info">
                            <div class="card-title">ìŠ¤ì‹œ ì˜¤ë§ˆì¹´ì„¸</div>
                            <div class="card-detail">19:00 â€¢ 2ëª… â€¢ ê¸°ë…ì¼</div>
                            <div style="color: #FFD700; font-size: 14px;">â­â­â­â­â­</div>
                        </div>
                        <span style="font-size: 12px; color: #666;">ì™„ë£Œ</span>
                    </div>
                </div>
                <div class="tab-bar">
                    <div class="tab" onclick="showScreen('home')">
                        <div class="tab-icon">ğŸ </div>
                        <div class="tab-label">í™ˆ</div>
                    </div>
                    <div class="tab" onclick="showScreen('ai-chat')">
                        <div class="tab-icon">ğŸ¤–</div>
                        <div class="tab-label">AIì¶”ì²œ</div>
                    </div>
                    <div class="tab active">
                        <div class="tab-icon">ğŸ“‹</div>
                        <div class="tab-label">ì˜ˆì•½ë‚´ì—­</div>
                    </div>
                    <div class="tab" onclick="showScreen('mypage')">
                        <div class="tab-icon">ğŸ‘¤</div>
                        <div class="tab-label">MY</div>
                    </div>
                </div>
            </div>

            <!-- Reviews Screen -->
            <div class="screen" id="reviews">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ë¦¬ë·°</div>
                </div>
                <div class="content">
                    <div style="padding: 15px; background-color: #f5f5f5; border-radius: 12px; margin-bottom: 20px;">
                        <h3 style="margin-bottom: 5px;">ì •ì‹ë‹¹</h3>
                        <p style="color: #666; font-size: 14px;">ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 142</p>
                        <div style="display: flex; align-items: center; margin-top: 10px;">
                            <span style="font-size: 24px; font-weight: bold; margin-right: 10px;">4.9</span>
                            <span style="color: #FFD700;">â­â­â­â­â­</span>
                            <span style="color: #666; margin-left: 10px; font-size: 14px;">(ë¦¬ë·° 234ê°œ)</span>
                        </div>
                    </div>

                    <div style="display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto;">
                        <span
                            style="padding: 8px 15px; background-color: #007AFF; color: white; border-radius: 20px; font-size: 14px; white-space: nowrap;">ì „ì²´</span>
                        <span
                            style="padding: 8px 15px; background-color: #f0f0f0; border-radius: 20px; font-size: 14px; white-space: nowrap;">ë¹„ì¦ˆë‹ˆìŠ¤
                            ë¯¸íŒ…</span>
                        <span
                            style="padding: 8px 15px; background-color: #f0f0f0; border-radius: 20px; font-size: 14px; white-space: nowrap;">ë°ì´íŠ¸</span>
                        <span
                            style="padding: 8px 15px; background-color: #f0f0f0; border-radius: 20px; font-size: 14px; white-space: nowrap;">ê°€ì¡±
                            ëª¨ì„</span>
                    </div>

                    <div class="card" style="padding: 20px;">
                        <div style="width: 100%;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <div style="display: flex; align-items: center;">
                                    <div
                                        style="width: 40px; height: 40px; background-color: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px;">
                                        ğŸ‘¤</div>
                                    <div>
                                        <div style="font-weight: 600;">ê¹€ì˜í¬</div>
                                        <div style="font-size: 12px; color: #666;">ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ… â€¢ 2024.12.15</div>
                                    </div>
                                </div>
                                <div style="color: #FFD700;">â­â­â­â­â­</div>
                            </div>
                            <p style="line-height: 1.5; margin-bottom: 10px;">
                                ì¤‘ìš”í•œ ê³„ì•½ ë¯¸íŒ…ì´ ìˆì–´ì„œ ì˜ˆì•½í–ˆëŠ”ë° ì •ë§ ë§Œì¡±ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤. í”„ë¼ì´ë¹— ë£¸ì´ ì™„ì „íˆ ë…ë¦½ë˜ì–´ ìˆì–´ì„œ ëŒ€í™” ë‚´ìš©ì´ ë°–ìœ¼ë¡œ ìƒˆì–´ë‚˜ê°ˆ ê±±ì •ì´ ì—†ì—ˆê³ , ì§ì›ë¶„ë“¤ì´
                                ì ì ˆí•œ íƒ€ì´ë°ì— ì„œë¹„ìŠ¤í•´ì£¼ì…”ì„œ ë¯¸íŒ…ì´ ëŠê¸°ì§€ ì•Šì•˜ì–´ìš”.
                            </p>
                            <div style="display: flex; gap: 5px;">
                                <span
                                    style="font-size: 12px; background-color: #f0f0f0; padding: 4px 10px; border-radius: 15px;">#í”„ë¼ì´ë¹—ë£¸</span>
                                <span
                                    style="font-size: 12px; background-color: #f0f0f0; padding: 4px 10px; border-radius: 15px;">#ë¹„ì¦ˆë‹ˆìŠ¤ë¯¸íŒ…</span>
                                <span
                                    style="font-size: 12px; background-color: #f0f0f0; padding: 4px 10px; border-radius: 15px;">#ì„œë¹„ìŠ¤ìµœê³ </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reservation Detail Screen -->
            <div class="screen" id="reservation-detail">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ì˜ˆì•½ ìƒì„¸</div>
                </div>
                <div class="content">
                    <div
                        style="text-align: center; padding: 20px; background-color: #007AFF; color: white; margin: -20px -20px 20px -20px;">
                        <div style="font-size: 24px; margin-bottom: 5px;">ì˜ˆì•½ í™•ì •</div>
                        <div style="font-size: 14px;">ì˜ˆì•½ë²ˆí˜¸: R2024121700123</div>
                    </div>

                    <h4 style="margin-bottom: 15px;">ì‹ë‹¹ ì •ë³´</h4>
                    <div class="card" style="margin-bottom: 20px;">
                        <div class="card-image">ğŸ½ï¸</div>
                        <div class="card-info">
                            <div class="card-title">ì •ì‹ë‹¹</div>
                            <div class="card-detail">ê°•ë‚¨êµ¬ â€¢ â­ 4.9</div>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 15px;">ì˜ˆì•½ ì •ë³´</h4>
                    <div style="background-color: #f5f5f5; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                            <span style="color: #666;">ì˜ˆì•½ì¼ì‹œ</span>
                            <span style="font-weight: 600;">2024ë…„ 12ì›” 17ì¼ (í™”) 12:30</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                            <span style="color: #666;">ì¸ì›</span>
                            <span style="font-weight: 600;">4ëª…</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #666;">ëª©ì </span>
                            <span style="font-weight: 600;">ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ…</span>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 15px;">íŠ¹ë³„ ìš”ì²­ì‚¬í•­</h4>
                    <div style="background-color: #f5f5f5; padding: 15px; border-radius: 12px; margin-bottom: 20px;">
                        <p style="line-height: 1.5;">ì¡°ìš©í•œ í”„ë¼ì´ë¹— ë£¸ìœ¼ë¡œ ì¤€ë¹„ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì¤‘ìš”í•œ ê³„ì•½ ë¯¸íŒ…ì´ ìˆìŠµë‹ˆë‹¤.</p>
                    </div>

                    <h4 style="margin-bottom: 15px;">
                        <span
                            style="background-color: #FFD700; padding: 4px 10px; border-radius: 20px; font-size: 12px;">Premium</span>
                        ì¶”ê°€ ì„œë¹„ìŠ¤
                    </h4>
                    <div style="background-color: #f5f5f5; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <span style="color: #007AFF; margin-right: 10px;">âœ“</span>
                            <span>ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤</span>
                        </div>
                        <div style="display: flex; align-items: center;">
                            <span style="color: #007AFF; margin-right: 10px;">âœ“</span>
                            <span>ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤</span>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 15px;">ìœ„ì¹˜ ì•ˆë‚´</h4>
                    <div
                        style="width: 100%; height: 150px; background-color: #f0f0f0; border-radius: 12px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; position: relative;">
                        <span style="font-size: 32px;">ğŸ“</span>
                        <div
                            style="position: absolute; bottom: 10px; left: 10px; background-color: white; padding: 5px 10px; border-radius: 8px; font-size: 12px;">
                            ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 142
                        </div>
                    </div>

                    <button class="button secondary" style="margin-bottom: 10px;">ì˜ˆì•½ ë³€ê²½</button>
                    <button class="button" style="background-color: #FF3B30; margin-top: 0;">ì˜ˆì•½ ì·¨ì†Œ</button>
                </div>
            </div>

            <!-- Favorites Screen -->
            <div class="screen" id="favorites">
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ì¦ê²¨ì°¾ê¸°</div>
                </div>
                <div class="content">
                    <h3 style="margin-bottom: 20px;">ë‚´ê°€ ì°œí•œ ë§›ì§‘</h3>

                    <div class="card" onclick="showScreen('restaurant-detail', 'jungsikdang')">
                        <div class="card-image">ğŸ½ï¸</div>
                        <div class="card-info">
                            <div class="card-title">ì •ì‹ë‹¹</div>
                            <div class="card-detail">ê°•ë‚¨êµ¬ â€¢ â­ 4.9</div>
                        </div>
                    </div>

                    <div class="card" onclick="showScreen('restaurant-detail', 'sushi-omakase')">
                        <div class="card-image">ğŸ£</div>
                        <div class="card-info">
                            <div class="card-title">ìŠ¤ì‹œ ì˜¤ë§ˆì¹´ì„¸</div>
                            <div class="card-detail">ê°•ë‚¨êµ¬ â€¢ â­ 4.8</div>
                        </div>
                    </div>

                    <div class="card" onclick="showScreen('restaurant-detail', 'bistro-paris')">
                        <div class="card-image">ğŸ·</div>
                        <div class="card-info">
                            <div class="card-title">ë¹„ìŠ¤íŠ¸ë¡œ ë“œ ìš˜íŠ¸ë¹Œ</div>
                            <div class="card-detail">ê°•ë‚¨êµ¬ â€¢ â­ 4.5</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 'home';
        let screenHistory = ['home'];
        let currentRestaurant = null;
        let currentReservation = null;

        // Restaurant data
        const restaurants = {
            'sushi-omakase': {
                name: 'ìŠ¤ì‹œ ì˜¤ë§ˆì¹´ì„¸',
                icon: 'ğŸ£',
                area: 'ê°•ë‚¨êµ¬',
                address: 'ê°•ë‚¨êµ¬ ë„ì‚°ëŒ€ë¡œ 123',
                distance: '500m',
                rating: '4.8',
                reviewCount: '156',
                isFavorite: false,
                menu: [
                    { name: 'ëŸ°ì¹˜ ì˜¤ë§ˆì¹´ì„¸', price: '50,000ì›' },
                    { name: 'ë””ë„ˆ ì˜¤ë§ˆì¹´ì„¸', price: '120,000ì›' },
                    { name: 'í”„ë¦¬ë¯¸ì—„ ì½”ìŠ¤', price: '200,000ì›' }
                ]
            },
            'hanwoo-house': {
                name: 'í•œìš° ëª…ê°€',
                icon: 'ğŸ¥©',
                area: 'ê°•ë‚¨êµ¬',
                address: 'ê°•ë‚¨êµ¬ ì••êµ¬ì •ë¡œ 456',
                distance: '800m',
                rating: '4.7',
                reviewCount: '298',
                isFavorite: false,
                menu: [
                    { name: 'í•œìš° ëª¨ë‘  ì„¸íŠ¸', price: '80,000ì›' },
                    { name: 'íŠ¹ì„  í•œìš° ì½”ìŠ¤', price: '150,000ì›' },
                    { name: 'ì ì‹¬ íŠ¹ì„ ', price: '35,000ì›' }
                ]
            },
            'bistro-paris': {
                name: 'ë¹„ìŠ¤íŠ¸ë¡œ íŒŒë¦¬',
                icon: 'ğŸ·',
                area: 'ê°•ë‚¨êµ¬',
                address: 'ê°•ë‚¨êµ¬ ì²­ë‹´ë™ 789',
                distance: '1.2km',
                rating: '4.6',
                reviewCount: '187',
                isFavorite: false,
                menu: [
                    { name: 'ëŸ°ì¹˜ ì½”ìŠ¤', price: '45,000ì›' },
                    { name: 'ë””ë„ˆ ì½”ìŠ¤ A', price: '85,000ì›' },
                    { name: 'ë””ë„ˆ ì½”ìŠ¤ B', price: '120,000ì›' }
                ]
            },
            'jungsikdang': {
                name: 'ì •ì‹ë‹¹',
                icon: 'ğŸ½ï¸',
                area: 'ê°•ë‚¨êµ¬',
                address: 'ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 142',
                distance: '',
                rating: '4.9',
                reviewCount: '234',
                isFavorite: true,
                menu: [
                    { name: 'ëŸ°ì¹˜ ì½”ìŠ¤ A', price: '35,000ì›' },
                    { name: 'ëŸ°ì¹˜ ì½”ìŠ¤ B', price: '50,000ì›' },
                    { name: 'ë””ë„ˆ ì½”ìŠ¤', price: '80,000ì›' }
                ]
            }
        };

        // Reservations data
        let reservations = [
            {
                id: 'R2024121700123',
                restaurantId: 'jungsikdang',
                date: '2024ë…„ 12ì›” 17ì¼',
                day: '17',
                month: '12ì›”',
                time: '12:30',
                people: '4ëª…',
                purpose: 'ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ…',
                status: 'upcoming',
                specialRequest: 'ì¡°ìš©í•œ í”„ë¼ì´ë¹— ë£¸ìœ¼ë¡œ ì¤€ë¹„ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì¤‘ìš”í•œ ê³„ì•½ ë¯¸íŒ…ì´ ìˆìŠµë‹ˆë‹¤.',
                premiumServices: ['ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤', 'ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤']
            },
            {
                id: 'R2024121000456',
                restaurantId: 'sushi-omakase',
                date: '2024ë…„ 12ì›” 10ì¼',
                day: '10',
                month: '12ì›”',
                time: '19:00',
                people: '2ëª…',
                purpose: 'ê¸°ë…ì¼',
                status: 'completed',
                rating: 5,
                specialRequest: 'ì°½ê°€ ìë¦¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤.',
                premiumServices: ['ìƒ´í˜ì¸ ì„œë¹„ìŠ¤']
            }
        ];

        function showScreen(screenId, data = null) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // Show selected screen
            document.getElementById(screenId).classList.add('active');

            // Update history
            if (currentScreen !== screenId) {
                screenHistory.push(screenId);
                currentScreen = screenId;
            }

            // Handle screen-specific data
            if (screenId === 'restaurant-detail' && data) {
                showRestaurantDetail(data);
            } else if (screenId === 'reservation-detail' && data) {
                showReservationDetail(data);
            } else if (screenId === 'booking' && data) {
                showBooking(data);
            }

            // Update tab bar
            updateTabBar(screenId);
        }

        function showRestaurantDetail(restaurantId) {
            currentRestaurant = restaurants[restaurantId];
            if (!currentRestaurant) return;

            // Update restaurant detail screen
            document.querySelector('#restaurant-detail .nav-title').textContent = currentRestaurant.name;
            document.querySelector('#restaurant-detail .content').innerHTML = `
                <div style="width: 100%; height: 200px; background-color: #f0f0f0; margin: -20px -20px 20px -20px; display: flex; align-items: center; justify-content: center; font-size: 48px;">
                    ${currentRestaurant.icon}
                </div>

                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px;">
                    <div>
                        <h2 style="font-size: 24px; margin-bottom: 5px;">${currentRestaurant.name}</h2>
                        <p style="color: #666;">${currentRestaurant.address}</p>
                    </div>
                    <span style="font-size: 32px; color: ${currentRestaurant.isFavorite ? '#FFD700' : '#ccc'}; cursor: pointer;" onclick="toggleFavorite('${restaurantId}')">
                        ${currentRestaurant.isFavorite ? 'â˜…' : 'â˜†'}
                    </span>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                    <div style="text-align: center; padding: 15px; background-color: #f5f5f5; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: bold;">${currentRestaurant.rating}</div>
                        <div style="color: #666; font-size: 14px;">í‰ì </div>
                    </div>
                    <div style="text-align: center; padding: 15px; background-color: #f5f5f5; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: bold;">${currentRestaurant.reviewCount}</div>
                        <div style="color: #666; font-size: 14px;">ë¦¬ë·°ìˆ˜</div>
                    </div>
                </div>

                <h3 style="margin-bottom: 15px;">ëŒ€í‘œ ë©”ë‰´</h3>
                <div style="background-color: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    ${currentRestaurant.menu.map((item, index) => `
                        <div style="display: flex; justify-content: space-between; ${index < currentRestaurant.menu.length - 1 ? 'margin-bottom: 10px;' : ''}">
                            <span>${item.name}</span>
                            <span style="font-weight: 600;">${item.price}</span>
                        </div>
                    `).join('')}
                </div>

                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h3>ìƒí™©ë³„ í›„ê¸°</h3>
                    <span style="color: #007AFF; cursor: pointer;" onclick="showScreen('reviews')">ë”ë³´ê¸° â€º</span>
                </div>

                <div class="card" style="background-color: #f9f9f9;">
                    <span style="font-size: 24px; margin-right: 15px;">ğŸ’¼</span>
                    <div>
                        <strong>ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ…</strong><br>
                        <span style="font-size: 14px; color: #666;">"ì¡°ìš©í•œ ë£¸, ì™„ë²½í•œ ì„œë¹„ìŠ¤ë¡œ ê³„ì•½ ì„±ê³µ!"</span>
                    </div>
                </div>

                <div class="card" style="background-color: #f9f9f9;">
                    <span style="font-size: 24px; margin-right: 15px;">â¤ï¸</span>
                    <div>
                        <strong>ë°ì´íŠ¸</strong><br>
                        <span style="font-size: 14px; color: #666;">"ë¶„ìœ„ê¸° ì¢‹ê³  ìŒì‹ë„ ë§›ìˆì–´ìš”. í”„ë¡œí¬ì¦ˆ ì„±ê³µ!"</span>
                    </div>
                </div>

                <button class="button" onclick="showScreen('booking', '${restaurantId}')">ì˜ˆì•½í•˜ê¸°</button>
            `;
        }

        function showReservationDetail(reservationId) {
            const reservation = reservations.find(r => r.id === reservationId);
            if (!reservation) return;

            currentReservation = reservation;
            const restaurant = restaurants[reservation.restaurantId];

            document.querySelector('#reservation-detail .content').innerHTML = `
                <div style="text-align: center; padding: 20px; background-color: ${reservation.status === 'upcoming' ? '#007AFF' : '#4CAF50'}; color: white; margin: -20px -20px 20px -20px;">
                    <div style="font-size: 24px; margin-bottom: 5px;">${reservation.status === 'upcoming' ? 'ì˜ˆì•½ í™•ì •' : 'ë°©ë¬¸ ì™„ë£Œ'}</div>
                    <div style="font-size: 14px;">ì˜ˆì•½ë²ˆí˜¸: ${reservation.id}</div>
                </div>

                <h4 style="margin-bottom: 15px;">ì‹ë‹¹ ì •ë³´</h4>
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-image">${restaurant.icon}</div>
                    <div class="card-info">
                        <div class="card-title">${restaurant.name}</div>
                        <div class="card-detail">${restaurant.area} â€¢ â­ ${restaurant.rating}</div>
                    </div>
                </div>

                <h4 style="margin-bottom: 15px;">ì˜ˆì•½ ì •ë³´</h4>
                <div style="background-color: #f5f5f5; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <span style="color: #666;">ì˜ˆì•½ì¼ì‹œ</span>
                        <span style="font-weight: 600;">${reservation.date} (${reservation.status === 'upcoming' ? 'í™”' : 'ì¼'}) ${reservation.time}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <span style="color: #666;">ì¸ì›</span>
                        <span style="font-weight: 600;">${reservation.people}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: #666;">ëª©ì </span>
                        <span style="font-weight: 600;">${reservation.purpose}</span>
                    </div>
                </div>

                <h4 style="margin-bottom: 15px;">íŠ¹ë³„ ìš”ì²­ì‚¬í•­</h4>
                <div style="background-color: #f5f5f5; padding: 15px; border-radius: 12px; margin-bottom: 20px;">
                    <p style="line-height: 1.5;">${reservation.specialRequest}</p>
                </div>

                <h4 style="margin-bottom: 15px;">
                    <span style="background-color: #FFD700; padding: 4px 10px; border-radius: 20px; font-size: 12px;">Premium</span>
                    ì¶”ê°€ ì„œë¹„ìŠ¤
                </h4>
                <div style="background-color: #f5f5f5; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    ${reservation.premiumServices.map(service => `
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <span style="color: #007AFF; margin-right: 10px;">âœ“</span>
                            <span>${service}</span>
                        </div>
                    `).join('')}
                </div>

                <h4 style="margin-bottom: 15px;">ìœ„ì¹˜ ì•ˆë‚´</h4>
                <div style="width: 100%; height: 150px; background-color: #f0f0f0; border-radius: 12px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; position: relative;">
                    <span style="font-size: 32px;">ğŸ“</span>
                    <div style="position: absolute; bottom: 10px; left: 10px; background-color: white; padding: 5px 10px; border-radius: 8px; font-size: 12px;">
                        ${restaurant.address}
                    </div>
                </div>

                ${reservation.status === 'upcoming' ? `
                    <button class="button secondary" style="margin-bottom: 10px;" onclick="modifyReservation('${reservation.id}')">ì˜ˆì•½ ë³€ê²½</button>
                    <button class="button" style="background-color: #FF3B30; margin-top: 0;" onclick="cancelReservation('${reservation.id}')">ì˜ˆì•½ ì·¨ì†Œ</button>
                ` : reservation.rating ? `
                    <div style="text-align: center; padding: 20px; background-color: #f5f5f5; border-radius: 12px;">
                        <p style="margin-bottom: 10px;">ì´ë¯¸ ë°©ë¬¸í•˜ì‹  ì˜ˆì•½ì…ë‹ˆë‹¤</p>
                        <div style="color: #FFD700; font-size: 24px;">${'â­'.repeat(reservation.rating)}</div>
                    </div>
                ` : `
                    <button class="button">ë¦¬ë·° ì‘ì„±í•˜ê¸°</button>
                `}
            `;
        }

        function showBooking(restaurantId) {
            const restaurant = restaurants[restaurantId];
            if (!restaurant) return;

            document.querySelector('#booking .content').innerHTML = `
                <div class="card" style="background-color: #f5f5f5; border: none;">
                    <div>
                        <h3 style="margin-bottom: 5px;">${restaurant.name} ì˜ˆì•½</h3>
                        <p style="color: #666; font-size: 14px;">AIê°€ ë¶„ì„í•œ ìµœì  ì‹œê°„ëŒ€</p>
                    </div>
                </div>

                <h4 style="margin-bottom: 10px;">ë‚ ì§œ ì„ íƒ</h4>
                <div class="calendar">
                    <div class="calendar-day">ì›”</div>
                    <div class="calendar-day">í™”</div>
                    <div class="calendar-day">ìˆ˜</div>
                    <div class="calendar-day">ëª©</div>
                    <div class="calendar-day">ê¸ˆ</div>
                    <div class="calendar-day">í† </div>
                    <div class="calendar-day">ì¼</div>
                    <div class="calendar-day">15</div>
                    <div class="calendar-day">16</div>
                    <div class="calendar-day selected">17</div>
                    <div class="calendar-day">18</div>
                    <div class="calendar-day">19</div>
                    <div class="calendar-day">20</div>
                    <div class="calendar-day">21</div>
                </div>

                <h4 style="margin-bottom: 10px;">ì‹œê°„ ì„ íƒ</h4>
                <div class="time-grid">
                    <div class="time-slot">11:30</div>
                    <div class="time-slot">12:00</div>
                    <div class="time-slot selected">12:30</div>
                    <div class="time-slot disabled">13:00</div>
                    <div class="time-slot">18:00</div>
                    <div class="time-slot">18:30</div>
                    <div class="time-slot">19:00</div>
                    <div class="time-slot disabled">19:30</div>
                </div>

                <h4 style="margin-bottom: 10px;">ì¸ì›</h4>
                <select id="booking-people" style="width: 100%; height: 45px; border: 1px solid #e0e0e0; border-radius: 8px; padding: 0 15px; font-size: 16px; margin-bottom: 20px;">
                    <option>2ëª…</option>
                    <option>3ëª…</option>
                    <option selected>4ëª…</option>
                    <option>5ëª…</option>
                    <option>6ëª…</option>
                </select>

                <div style="background-color: #FFF9E6; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px;">
                        <span style="background-color: #FFD700; padding: 4px 10px; border-radius: 20px; font-size: 12px;">Premium</span>
                        ì¶”ê°€ ì˜µì…˜
                    </h4>
                    <div class="premium-option">
                        <input type="checkbox" id="welcome-drink">
                        <label for="welcome-drink">
                            <div class="premium-option-title">ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤</div>
                            <div class="premium-option-desc">ìƒ´í˜ì¸ ë˜ëŠ” ë…¼ì•Œì½œ ìŒë£Œ ì œê³µ</div>
                        </label>
                    </div>
                    <div class="premium-option">
                        <input type="checkbox" id="vip-room">
                        <label for="vip-room">
                            <div class="premium-option-title">VIP ë£¸ ì—…ê·¸ë ˆì´ë“œ</div>
                            <div class="premium-option-desc">í”„ë¼ì´ë¹— ê³µê°„, ì „ë‹´ ì„œë²„ ë°°ì •</div>
                        </label>
                    </div>
                    <div class="premium-option">
                        <input type="checkbox" id="valet">
                        <label for="valet">
                            <div class="premium-option-title">ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤</div>
                            <div class="premium-option-desc">ë¬´ë£Œ ë°œë › íŒŒí‚¹ ì œê³µ</div>
                        </label>
                    </div>
                </div>

                <button class="button" onclick="confirmBooking('${restaurantId}')">ì˜ˆì•½ í™•ì •</button>
            `;

            // Re-add event listeners for calendar and time slots
            setTimeout(() => {
                document.querySelectorAll('#booking .calendar-day').forEach(day => {
                    if (!isNaN(day.textContent)) {
                        day.addEventListener('click', function () {
                            document.querySelectorAll('#booking .calendar-day').forEach(d => d.classList.remove('selected'));
                            this.classList.add('selected');
                        });
                    }
                });

                document.querySelectorAll('#booking .time-slot').forEach(slot => {
                    if (!slot.classList.contains('disabled')) {
                        slot.addEventListener('click', function () {
                            document.querySelectorAll('#booking .time-slot').forEach(s => s.classList.remove('selected'));
                            this.classList.add('selected');
                        });
                    }
                });
            }, 100);
        }

        function goBack() {
            if (screenHistory.length > 1) {
                screenHistory.pop();
                const previousScreen = screenHistory[screenHistory.length - 1];
                currentScreen = previousScreen;
                showScreen(previousScreen);
            }
        }

        function updateTabBar(screenId) {
            const tabScreenMap = {
                'home': 0,
                'ai-chat': 1,
                'reservations': 2,
                'mypage': 3
            };

            document.querySelectorAll('.tab').forEach((tab, index) => {
                tab.classList.remove('active');
            });

            const activeTabIndex = tabScreenMap[screenId];
            if (activeTabIndex !== undefined) {
                document.querySelectorAll('.tab')[activeTabIndex].classList.add('active');
            }
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();

            if (message === '') return;

            const chatMessages = document.getElementById('chat-messages');

            // Add user message
            const userBubble = document.createElement('div');
            userBubble.className = 'chat-bubble user fade-in';
            userBubble.textContent = message;
            chatMessages.appendChild(userBubble);

            // Clear input
            input.value = '';

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Show typing indicator
            setTimeout(() => {
                const typingBubble = document.createElement('div');
                typingBubble.className = 'chat-bubble ai fade-in';
                typingBubble.innerHTML = `
                    <div class="chat-name">AI ì›°ë°‹</div>
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                `;
                chatMessages.appendChild(typingBubble);
                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Replace with actual response
                setTimeout(() => {
                    typingBubble.innerHTML = `
                        <div class="chat-name">AI ì›°ë°‹</div>
                        ì™„ë²½í•´ìš”! íŠ¹ë³„í•œ ë‚ ì„ ìœ„í•œ ë¡œë§¨í‹±í•œ ì‹ë‹¹ì„ ì¶”ì²œí•´ë“œë¦´ê²Œìš” âœ¨
                    `;

                    // Add restaurant recommendations
                    const recommendations = document.createElement('div');
                    recommendations.innerHTML = `
                        <div style="margin: 15px 0;">
                            <div class="card" style="margin-bottom: 10px;" onclick="showScreen('restaurant-detail', 'bistro-paris')">
                                <div class="card-image">ğŸ·</div>
                                <div class="card-info">
                                    <div class="card-title">ë¹„ìŠ¤íŠ¸ë¡œ íŒŒë¦¬</div>
                                    <div class="card-detail">í”„ë Œì¹˜ â€¢ ê°•ë‚¨êµ¬ â€¢ â­ 4.6 â€¢ ğŸ’• ë¡œë§¨í‹±</div>
                                </div>
                            </div>
                            <div class="card" style="margin-bottom: 10px;" onclick="showScreen('restaurant-detail', 'sushi-omakase')">
                                <div class="card-image">ğŸ£</div>
                                <div class="card-info">
                                    <div class="card-title">ìŠ¤ì‹œ ì˜¤ë§ˆì¹´ì„¸</div>
                                    <div class="card-detail">ì˜¤ë§ˆì¹´ì„¸ â€¢ ê°•ë‚¨êµ¬ â€¢ â­ 4.8 â€¢ ğŸ•¯ï¸ í”„ë¼ì´ë¹—</div>
                                </div>
                            </div>
                        </div>
                    `;
                    chatMessages.appendChild(recommendations);

                    // Add follow-up message
                    const followUp = document.createElement('div');
                    followUp.className = 'chat-bubble ai fade-in';
                    followUp.innerHTML = `
                        <div class="chat-name">AI ì›°ë°‹</div>
                        ì´ ì¤‘ì—ì„œ íŠ¹íˆ 'ë¹„ìŠ¤íŠ¸ë¡œ íŒŒë¦¬'ëŠ” ì»¤í”Œì„ì´ ë”°ë¡œ ë§ˆë ¨ë˜ì–´ ìˆê³ , ê¸°ë…ì¼ ì¼€ì´í¬ ì„œë¹„ìŠ¤ë„ ì œê³µí•´ìš”!<br><br>
                        ì˜ˆì•½ì„ ë„ì™€ë“œë¦´ê¹Œìš”? ì•„ë‹ˆë©´ ë‹¤ë¥¸ ì˜µì…˜ì„ ë” ë³´ì‹œê² ì–´ìš”?
                    `;
                    chatMessages.appendChild(followUp);

                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 2000);
            }, 500);
        }

        function handleSearchKeyPress(event) {
            if (event.key === 'Enter') {
                performSearch();
            }
        }

        function performSearch() {
            const searchInput = document.getElementById('search-input');
            const searchQuery = searchInput.value.trim();

            if (searchQuery === '') return;

            const searchDefault = document.getElementById('search-default');
            const searchResults = document.getElementById('search-results');
            const searchResultsList = document.getElementById('search-results-list');

            // Hide default content, show results
            searchDefault.style.display = 'none';
            searchResults.style.display = 'block';

            // Clear previous results
            searchResultsList.innerHTML = '';

            // Search through restaurants
            const searchResultsData = Object.entries(restaurants).filter(([id, restaurant]) =>
                restaurant.name.toLowerCase().includes(searchQuery.toLowerCase())
            );

            if (searchResultsData.length === 0) {
                searchResultsList.innerHTML = `
                    <div style="text-align: center; padding: 60px 20px; color: #666;">
                        <div style="font-size: 48px; margin-bottom: 20px;">ğŸ”</div>
                        <p style="font-size: 16px; margin-bottom: 10px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                        <p style="font-size: 14px;">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¡œ ì‹œë„í•´ë³´ì„¸ìš”</p>
                    </div>
                `;
            } else {
                searchResultsData.forEach(([id, restaurant]) => {
                    const resultCard = document.createElement('div');
                    resultCard.className = 'card fade-in';
                    resultCard.onclick = () => showScreen('restaurant-detail', id);
                    resultCard.innerHTML = `
                        <div class="card-image">${restaurant.icon}</div>
                        <div class="card-info">
                            <div class="card-title">${restaurant.name}</div>
                            <div class="card-detail">${restaurant.area} â€¢ â­ ${restaurant.rating}</div>
                        </div>
                    `;
                    searchResultsList.appendChild(resultCard);
                });
            }
        }

        function confirmBooking(restaurantId) {
            const restaurant = restaurants[restaurantId];
            const selectedDate = document.querySelector('#booking .calendar-day.selected').textContent;
            const selectedTime = document.querySelector('#booking .time-slot.selected').textContent;
            const selectedPeople = document.getElementById('booking-people').value;

            // Get selected premium services
            const premiumServices = [];
            if (document.getElementById('welcome-drink').checked) {
                premiumServices.push('ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤');
            }
            if (document.getElementById('vip-room').checked) {
                premiumServices.push('VIP ë£¸ ì—…ê·¸ë ˆì´ë“œ');
            }
            if (document.getElementById('valet').checked) {
                premiumServices.push('ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤');
            }

            // Create new reservation
            const newReservation = {
                id: 'R' + Date.now(),
                restaurantId: restaurantId,
                date: '2024ë…„ 12ì›” ' + selectedDate + 'ì¼',
                day: selectedDate,
                month: '12ì›”',
                time: selectedTime,
                people: selectedPeople,
                purpose: 'íŠ¹ë³„í•œ ë‚ ',
                status: 'upcoming',
                specialRequest: 'ì˜ˆì•½ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤.',
                premiumServices: premiumServices
            };

            // Add to reservations
            reservations.unshift(newReservation);

            alert(`${restaurant.name} ì˜ˆì•½ì´ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤!\nì˜ˆì•½ë²ˆí˜¸: ${newReservation.id}`);
            showScreen('reservations');
            updateReservationsList();
        }

        function updateReservationsList() {
            const reservationsScreen = document.getElementById('reservations');
            if (!reservationsScreen) return;

            const reservationsContent = reservationsScreen.querySelector('.content');

            let upcomingHTML = '';
            let completedHTML = '';

            reservations.forEach(reservation => {
                const restaurant = restaurants[reservation.restaurantId];
                const reservationHTML = `
                    <div class="card" ${reservation.status === 'upcoming' ? 'style="background-color: #f9f9f9;"' : ''} onclick="showScreen('reservation-detail', '${reservation.id}')">
                        <div style="width: 50px; height: 50px; background-color: ${reservation.status === 'upcoming' ? '#007AFF' : '#f0f0f0'}; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-right: 15px; ${reservation.status === 'upcoming' ? 'color: white;' : ''}">
                            <div style="text-align: center;">
                                <div style="font-weight: bold;">${reservation.day}</div>
                                <div style="font-size: 10px;">${reservation.month}</div>
                            </div>
                        </div>
                        <div class="card-info">
                            <div class="card-title">${restaurant.name}</div>
                            <div class="card-detail">${reservation.time} â€¢ ${reservation.people} â€¢ ${reservation.purpose}</div>
                            ${reservation.rating ? `<div style="color: #FFD700; font-size: 14px;">${'â­'.repeat(reservation.rating)}</div>` : ''}
                        </div>
                        <span style="font-size: 12px; color: ${reservation.status === 'upcoming' ? '#007AFF' : '#666'};">${reservation.status === 'upcoming' ? 'ì˜ˆì •' : 'ì™„ë£Œ'}</span>
                    </div>
                `;

                if (reservation.status === 'upcoming') {
                    upcomingHTML += reservationHTML;
                } else {
                    completedHTML += reservationHTML;
                }
            });

            // If no reservations at all
            if (reservations.length === 0) {
                reservationsContent.innerHTML = `
                    <h3 style="margin-bottom: 20px;">ì „ì²´ ì˜ˆì•½ ë‚´ì—­</h3>
                    <div style="text-align: center; padding: 60px 20px; color: #666;">
                        <div style="font-size: 48px; margin-bottom: 20px;">ğŸ“‹</div>
                        <p style="font-size: 16px; margin-bottom: 10px;">ì˜ˆì•½ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</p>
                        <p style="font-size: 14px;">ìƒˆë¡œìš´ ì˜ˆì•½ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>
                    </div>
                `;
            } else {
                reservationsContent.innerHTML = `
                    <h3 style="margin-bottom: 20px;">ì „ì²´ ì˜ˆì•½ ë‚´ì—­</h3>
                    ${upcomingHTML ? `
                        <h4 style="font-size: 14px; color: #666; margin-bottom: 15px;">ì˜ˆì •ëœ ì˜ˆì•½</h4>
                        ${upcomingHTML}
                    ` : ''}
                    ${completedHTML ? `
                        <h4 style="font-size: 14px; color: #666; margin: 20px 0 15px;">ì™„ë£Œëœ ì˜ˆì•½</h4>
                        ${completedHTML}
                    ` : ''}
                `;
            }
        }

        function cancelReservation(reservationId) {
            // Create custom confirmation dialog
            const confirmDialog = document.createElement('div');
            confirmDialog.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 9999;
            `;

            const dialogContent = document.createElement('div');
            dialogContent.style.cssText = `
                background-color: white;
                padding: 30px;
                border-radius: 20px;
                max-width: 300px;
                text-align: center;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            `;

            dialogContent.innerHTML = `
                <h3 style="margin-bottom: 15px; font-size: 20px;">ì˜ˆì•½ ì·¨ì†Œ</h3>
                <p style="margin-bottom: 25px; color: #666; line-height: 1.5;">
                    ì •ë§ë¡œ ì˜ˆì•½ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?<br>
                    ì·¨ì†Œëœ ì˜ˆì•½ì€ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                </p>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmCancellation('${reservationId}')" style="
                        flex: 1;
                        padding: 12px;
                        background-color: #FF3B30;
                        color: white;
                        border: none;
                        border-radius: 10px;
                        font-size: 16px;
                        font-weight: 600;
                        cursor: pointer;
                    ">ì·¨ì†Œí•˜ê¸°</button>
                    <button onclick="closeCancelDialog()" style="
                        flex: 1;
                        padding: 12px;
                        background-color: #f0f0f0;
                        color: #333;
                        border: none;
                        border-radius: 10px;
                        font-size: 16px;
                        font-weight: 600;
                        cursor: pointer;
                    ">ëŒì•„ê°€ê¸°</button>
                </div>
            `;

            confirmDialog.appendChild(dialogContent);
            document.body.appendChild(confirmDialog);
        }

        function confirmCancellation(reservationId) {
            // Close dialog
            closeCancelDialog();

            // Find and remove the reservation
            const index = reservations.findIndex(r => r.id === reservationId);
            if (index !== -1) {
                const cancelledReservation = reservations[index];
                const restaurant = restaurants[cancelledReservation.restaurantId];

                // Remove from reservations array
                reservations.splice(index, 1);

                // Show cancellation message
                showNotification(`${restaurant.name} ì˜ˆì•½ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.`);

                // Go back to reservations list
                showScreen('reservations');
                updateReservationsList();
            }
        }

        function closeCancelDialog() {
            const dialog = document.querySelector('div[style*="position: fixed"]');
            if (dialog) {
                dialog.remove();
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 20px 30px;
                border-radius: 10px;
                font-size: 16px;
                z-index: 10000;
                animation: fadeInOut 2s ease;
            `;
            notification.textContent = message;

            // Add animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInOut {
                    0% { opacity: 0; }
                    20% { opacity: 1; }
                    80% { opacity: 1; }
                    100% { opacity: 0; }
                }
            `;
            document.head.appendChild(style);

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
                style.remove();
            }, 2000);
        }

        function toggleFavorite(restaurantId) {
            const restaurant = restaurants[restaurantId];
            if (!restaurant) return;

            // Toggle favorite status
            restaurant.isFavorite = !restaurant.isFavorite;

            // Update star icon
            const starIcon = document.querySelector(`#restaurant-detail span[onclick*="toggleFavorite"]`);
            if (starIcon) {
                starIcon.textContent = restaurant.isFavorite ? 'â˜…' : 'â˜†';
                starIcon.style.color = restaurant.isFavorite ? '#FFD700' : '#ccc';
            }

            // Show notification
            if (restaurant.isFavorite) {
                showNotification(`${restaurant.name}ì´(ê°€) ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`);
            } else {
                showNotification(`${restaurant.name}ì´(ê°€) ì¦ê²¨ì°¾ê¸°ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.`);
            }

            // Update favorites list
            updateFavoritesList();
        }

        function updateFavoritesList() {
            const favoritesScreen = document.getElementById('favorites');
            if (!favoritesScreen) return;

            const favoritesContent = favoritesScreen.querySelector('.content');

            const favoriteRestaurants = Object.entries(restaurants).filter(([id, restaurant]) => restaurant.isFavorite);

            if (favoriteRestaurants.length === 0) {
                favoritesContent.innerHTML = `
                    <h3 style="margin-bottom: 20px;">ë‚´ê°€ ì°œí•œ ë§›ì§‘</h3>
                    <div style="text-align: center; padding: 60px 20px; color: #666;">
                        <div style="font-size: 48px; margin-bottom: 20px;">â­</div>
                        <p style="font-size: 16px; margin-bottom: 10px;">ì•„ì§ ì¦ê²¨ì°¾ê¸°í•œ ë§›ì§‘ì´ ì—†ì–´ìš”</p>
                        <p style="font-size: 14px;">ë§ˆìŒì— ë“œëŠ” ë§›ì§‘ì„ ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€í•´ë³´ì„¸ìš”!</p>
                    </div>
                `;
            } else {
                let favoritesHTML = '<h3 style="margin-bottom: 20px;">ë‚´ê°€ ì°œí•œ ë§›ì§‘</h3>';

                favoriteRestaurants.forEach(([id, restaurant]) => {
                    favoritesHTML += `
                        <div class="card" onclick="showScreen('restaurant-detail', '${id}')">
                            <div class="card-image">${restaurant.icon}</div>
                            <div class="card-info">
                                <div class="card-title">${restaurant.name}</div>
                                <div class="card-detail">${restaurant.area} â€¢ â­ ${restaurant.rating}</div>
                            </div>
                        </div>
                    `;
                });

                favoritesContent.innerHTML = favoritesHTML;
            }
        }

        function modifyReservation(reservationId) {
            const reservation = reservations.find(r => r.id === reservationId);
            if (!reservation) return;

            // Show booking screen with existing reservation data
            currentReservation = reservation;
            showModifyBooking(reservation);
        }

        function showModifyBooking(reservation) {
            const restaurant = restaurants[reservation.restaurantId];

            // Create modify booking screen
            const modifyScreen = document.createElement('div');
            modifyScreen.className = 'screen active';
            modifyScreen.id = 'modify-booking';
            modifyScreen.innerHTML = `
                <div class="nav">
                    <div class="nav-back" onclick="goBack()">â†</div>
                    <div class="nav-title">ì˜ˆì•½ ë³€ê²½</div>
                </div>
                <div class="content">
                    <div class="card" style="background-color: #f5f5f5; border: none;">
                        <div>
                            <h3 style="margin-bottom: 5px;">${restaurant.name} ì˜ˆì•½ ë³€ê²½</h3>
                            <p style="color: #666; font-size: 14px;">ì˜ˆì•½ë²ˆí˜¸: ${reservation.id}</p>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 10px;">ë‚ ì§œ ì„ íƒ</h4>
                    <div class="calendar" id="modify-calendar">
                        <div class="calendar-day">ì›”</div>
                        <div class="calendar-day">í™”</div>
                        <div class="calendar-day">ìˆ˜</div>
                        <div class="calendar-day">ëª©</div>
                        <div class="calendar-day">ê¸ˆ</div>
                        <div class="calendar-day">í† </div>
                        <div class="calendar-day">ì¼</div>
                        <div class="calendar-day">15</div>
                        <div class="calendar-day">16</div>
                        <div class="calendar-day ${reservation.day === '17' ? 'selected' : ''}">17</div>
                        <div class="calendar-day ${reservation.day === '18' ? 'selected' : ''}">18</div>
                        <div class="calendar-day ${reservation.day === '19' ? 'selected' : ''}">19</div>
                        <div class="calendar-day ${reservation.day === '20' ? 'selected' : ''}">20</div>
                        <div class="calendar-day ${reservation.day === '21' ? 'selected' : ''}">21</div>
                    </div>

                    <h4 style="margin-bottom: 10px;">ì‹œê°„ ì„ íƒ</h4>
                    <div class="time-grid" id="modify-time-grid">
                        <div class="time-slot ${reservation.time === '11:30' ? 'selected' : ''}">11:30</div>
                        <div class="time-slot ${reservation.time === '12:00' ? 'selected' : ''}">12:00</div>
                        <div class="time-slot ${reservation.time === '12:30' ? 'selected' : ''}">12:30</div>
                        <div class="time-slot disabled">13:00</div>
                        <div class="time-slot ${reservation.time === '18:00' ? 'selected' : ''}">18:00</div>
                        <div class="time-slot ${reservation.time === '18:30' ? 'selected' : ''}">18:30</div>
                        <div class="time-slot ${reservation.time === '19:00' ? 'selected' : ''}">19:00</div>
                        <div class="time-slot disabled">19:30</div>
                    </div>

                    <h4 style="margin-bottom: 10px;">ì¸ì›</h4>
                    <select id="modify-people" style="width: 100%; height: 45px; border: 1px solid #e0e0e0; border-radius: 8px; padding: 0 15px; font-size: 16px; margin-bottom: 20px;">
                        <option ${reservation.people === '2ëª…' ? 'selected' : ''}>2ëª…</option>
                        <option ${reservation.people === '3ëª…' ? 'selected' : ''}>3ëª…</option>
                        <option ${reservation.people === '4ëª…' ? 'selected' : ''}>4ëª…</option>
                        <option ${reservation.people === '5ëª…' ? 'selected' : ''}>5ëª…</option>
                        <option ${reservation.people === '6ëª…' ? 'selected' : ''}>6ëª…</option>
                    </select>

                    <h4 style="margin-bottom: 10px;">íŠ¹ë³„ ìš”ì²­ì‚¬í•­</h4>
                    <textarea id="modify-request" style="width: 100%; height: 80px; border: 1px solid #e0e0e0; border-radius: 8px; padding: 10px; font-size: 14px; margin-bottom: 20px; resize: none;">${reservation.specialRequest}</textarea>

                    <div style="background-color: #FFF9E6; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px;">
                            <span style="background-color: #FFD700; padding: 4px 10px; border-radius: 20px; font-size: 12px;">Premium</span>
                            ì¶”ê°€ ì˜µì…˜
                        </h4>
                        <div class="premium-option">
                            <input type="checkbox" id="modify-welcome-drink" ${reservation.premiumServices.includes('ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤') ? 'checked' : ''}>
                            <label for="modify-welcome-drink">
                                <div class="premium-option-title">ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤</div>
                                <div class="premium-option-desc">ìƒ´í˜ì¸ ë˜ëŠ” ë…¼ì•Œì½œ ìŒë£Œ ì œê³µ</div>
                            </label>
                        </div>
                        <div class="premium-option">
                            <input type="checkbox" id="modify-vip-room" ${reservation.premiumServices.includes('VIP ë£¸ ì—…ê·¸ë ˆì´ë“œ') ? 'checked' : ''}>
                            <label for="modify-vip-room">
                                <div class="premium-option-title">VIP ë£¸ ì—…ê·¸ë ˆì´ë“œ</div>
                                <div class="premium-option-desc">í”„ë¼ì´ë¹— ê³µê°„, ì „ë‹´ ì„œë²„ ë°°ì •</div>
                            </label>
                        </div>
                        <div class="premium-option">
                            <input type="checkbox" id="modify-valet" ${reservation.premiumServices.includes('ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤') ? 'checked' : ''}>
                            <label for="modify-valet">
                                <div class="premium-option-title">ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤</div>
                                <div class="premium-option-desc">ë¬´ë£Œ ë°œë › íŒŒí‚¹ ì œê³µ</div>
                            </label>
                        </div>
                    </div>

                    <button class="button" onclick="confirmModification('${reservation.id}')">ì˜ˆì•½ ë³€ê²½ í™•ì¸</button>
                </div>
            `;

            // Hide all screens and show modify screen
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.querySelector('.phone-screen').appendChild(modifyScreen);

            // Add event listeners for calendar and time
            setTimeout(() => {
                document.querySelectorAll('#modify-calendar .calendar-day').forEach(day => {
                    if (!isNaN(day.textContent)) {
                        day.addEventListener('click', function () {
                            document.querySelectorAll('#modify-calendar .calendar-day').forEach(d => d.classList.remove('selected'));
                            this.classList.add('selected');
                        });
                    }
                });

                document.querySelectorAll('#modify-time-grid .time-slot').forEach(slot => {
                    if (!slot.classList.contains('disabled')) {
                        slot.addEventListener('click', function () {
                            document.querySelectorAll('#modify-time-grid .time-slot').forEach(s => s.classList.remove('selected'));
                            this.classList.add('selected');
                        });
                    }
                });
            }, 100);
        }

        function confirmModification(reservationId) {
            const reservation = reservations.find(r => r.id === reservationId);
            if (!reservation) return;

            // Get modified values
            const selectedDate = document.querySelector('#modify-calendar .calendar-day.selected').textContent;
            const selectedTime = document.querySelector('#modify-time-grid .time-slot.selected').textContent;
            const selectedPeople = document.getElementById('modify-people').value;
            const specialRequest = document.getElementById('modify-request').value;

            // Get selected premium services
            const premiumServices = [];
            if (document.getElementById('modify-welcome-drink').checked) {
                premiumServices.push('ì›°ì»´ ë“œë§í¬ ì„œë¹„ìŠ¤');
            }
            if (document.getElementById('modify-vip-room').checked) {
                premiumServices.push('VIP ë£¸ ì—…ê·¸ë ˆì´ë“œ');
            }
            if (document.getElementById('modify-valet').checked) {
                premiumServices.push('ë°œë › íŒŒí‚¹ ì„œë¹„ìŠ¤');
            }

            // Update reservation
            reservation.date = '2024ë…„ 12ì›” ' + selectedDate + 'ì¼';
            reservation.day = selectedDate;
            reservation.time = selectedTime;
            reservation.people = selectedPeople;
            reservation.specialRequest = specialRequest;
            reservation.premiumServices = premiumServices;

            // Remove modify screen
            const modifyScreen = document.getElementById('modify-booking');
            if (modifyScreen) {
                modifyScreen.remove();
            }

            alert('ì˜ˆì•½ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!');
            showScreen('reservation-detail', reservation.id);
            updateReservationsList();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            updateReservationsList();
            updateFavoritesList();
        });
    </script>
</body>

</html>